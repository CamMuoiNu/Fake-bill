function ThanhDieuHandle(e){var t,a={author:"ThanhDieu-",jq:$("body"),ajax_users:"/ajax/global/users",ajax_default:"/ajax/global/default",gt:"f3a50fc097a200b9260012e1e88d2dcd",rand:function(e){var t="0123456789";return Array.from({length:e},()=>t[Math.floor(Math.random()*t.length)]).join("")}};Object.defineProperty(a,"key",{get:function(){return Array(32).fill(0).map(()=>Math.random().toString(36).charAt(2)).join("")}});class n{constructor(){this.init()}init(){$("label[data-limit-text]").each((e,t)=>{let a=$(t),n=parseInt(a.data("limit-text")),i=a.next("textarea, input");0!==i.length&&(0===a.find(".text-danger").length&&a.append(`&ensp;-&ensp;C\xf2n lại&ensp;<b class="text-danger">${n}</b>&ensp;k\xfd tự`),this.WsCharCount(a,i,n),i.on("input",e=>{this.WsCharCount(a,i,n),i.val().length>n&&(i.val(i.val().substring(0,n)),this.WsCharCount(a,i,n))}))})}WsCharCount(e,t,a){let n=t.val().length;e.find(".text-danger").text(a-n)}}a.jq.on("click",".clear-form",function(e){$(".hk-refresh-form").find('input[type="text"],input[type="number"],input[type="email"], textarea').val(""),$(".hk-refresh-form").find("select").prop("selectedIndex","vtd"),$(".hk-refresh-form").find('input[type="checkbox"]').prop("checked",!1),pxmu.success("L\xe0m trống tất cả c\xe1c trường th\xe0nh c\xf4ng!")});class i{constructor(){this.o=Array.from({length:20},()=>"\\x"+Math.floor(16*Math.random()).toString(16)+Math.floor(16*Math.random()).toString(16)).join("")}}(e=>{let t=new i;e("*").each(function(){e(this).addClass(t.o)})})(jQuery);class s{static Fakebill(e){"on"===e.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<span class="spinner-border me-2" role="status" aria-hidden="true"></span>Đang xử l\xfd').prop("disabled",!0)):"off"===e.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-checkbox-circle-line me-2"></i>Tạo Bill Ngay').prop("disabled",!1),Wsloader(!1))}static Oauth(e){"on"===e.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<span class="spinner-border me-2" role="status" aria-hidden="true"></span>Đang xử l\xfd').prop("disabled",!0)):"off"===e.toLowerCase()&&($('button[type="submit"]').html("Đăng K\xfd Ngay").prop("disabled",!1),Wsloader(!1))}}window.Wsloader=function(e){e?$(".td-loader").show():$(".td-loader").hide()};class o{static WsCreate(e,t){Wsloader(!0);let a=$("#ws-download-link");if(0===a.length&&(a=$("<a></a>").attr("id","ws-download-link").css("display","none"),$("body").append(a)),a.attr("href",t).attr("download",e),(()=>{let e=navigator.userAgent;return/Chrome|CriOS|CocCoc|Safari|Firefox|Edg/.test(e)})()){let n;try{n=new MouseEvent("click"),a[0].dispatchEvent(n),Wsloader(!1)}catch(i){Swal.fire({title:"Thất Bại!",text:"Xin lỗi tr\xecnh duyệt của bạn ngăn kh\xf4ng cho ch\xfang t\xf4i tải ảnh xuống. Vui l\xf2ng sử dụng một tr\xecnh duyệt phổ biến như Chrome, Cốc Cốc, Safari, Firefox, Edge v\xe0 thử tải lại.",icon:"error",confirmButtonText:"Đồng \xfd"}),Wsloader(!1)}}else Swal.fire({title:"Thất Bại!",text:"Xin lỗi tr\xecnh duyệt của bạn ngăn kh\xf4ng cho ch\xfang t\xf4i tải ảnh xuống. Vui l\xf2ng sử dụng một tr\xecnh duyệt phổ biến như Chrome, Cốc Cốc, Safari, Firefox, Edge v\xe0 thử tải lại.",icon:"error",confirmButtonText:"Đồng \xfd"}),Wsloader(!1)}static DownloadBill(e,t){$(".kq-bill").find("div.d-flex").remove(),$(".kq-bill").append(`
                <div class="d-flex justify-content-center mt-4">
                    <a class="btn btn-sm btn-primary" id="ws-download">
                        <i class="ri-download-cloud-2-line me-1"></i>Tải Xuống
                    </a>&ensp;
                    <a class="btn btn-sm btn-secondary" id="ws-view">
                        <i class="ri-eye-line me-1"></i>Xem Ảnh
                    </a>
                </div>
            `),a.jq.off("click","#ws-download"),a.jq.on("click","#ws-download",a=>{a.preventDefault(),this.WsCreate(e,t)}),a.jq.on("click","#ws-view",e=>{e.preventDefault();let n=window.open("","_blank");n.document.write(`<style>body{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#f8f9fa;}img{max-width:100%;height:100%;}</style><img src="${t}" alt="${a.author}Review Bill">`),n.document.close()})}static ReviewBill(e){$(".col-md-3").removeClass("d-none d-md-block"),$(window).scrollTop($(document).height()-$(window).height()-50),$(".kq-bill img").attr("src",e)}static Loader(){a.jq.append($('<div class="td-loader"><img src="/public/src/vtd/img/icon/loader.gif"></div>').hide())}static FuncHide(){$("#template-customizer").addClass("hide")}static FuncClass(){$.fn.slideRight=function(){return this.each(function(){$(this).show().animate({right:"0px"},{queue:!1,duration:500})})},$.fn.slideLeft=function(){return this.each(function(){$(this).animate({right:"-300px"},{queue:!1,duration:500,complete:function(){$(this).hide()}})})},a.jq.on("click",".btn-close",function(){$("#ws-call-demo").removeClass("show")}),a.jq.mouseup(function(e){var t=$("#ws-call-demo");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("show")})}static XoaTVCoDau(){$(".td-format-text").on("input",function(){var e,t;$(this).val((e=$(this).val(),t={á:"a",à:"a",ả:"a",ã:"a",ạ:"a",ă:"a",ắ:"a",ằ:"a",ẳ:"a",ẵ:"a",ặ:"a",â:"a",ấ:"a",ầ:"a",ẩ:"a",ẫ:"a",ậ:"a",é:"e",è:"e",ẻ:"e",ẽ:"e",ẹ:"e",ê:"e",ế:"e",ề:"e",ể:"e",ễ:"e",ệ:"e",í:"i",ì:"i",ỉ:"i",ĩ:"i",ị:"i",ó:"o",ò:"o",ỏ:"o",õ:"o",ọ:"o",ô:"o",ố:"o",ồ:"o",ổ:"o",ỗ:"o",ộ:"o",ơ:"o",ớ:"o",ờ:"o",ở:"o",ỡ:"o",ợ:"o",ú:"u",ù:"u",ủ:"u",ũ:"u",ụ:"u",ư:"u",ứ:"u",ừ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ỳ:"y",ỷ:"y",ỹ:"y",ỵ:"y",đ:"d",Á:"A",À:"A",Ả:"A",Ã:"A",Ạ:"A",Ă:"A",Ắ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Â:"A",Ấ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",É:"E",È:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ê:"E",Ế:"E",Ề:"E",Ể:"E",Ễ:"E",Ệ:"E",Í:"I",Ì:"I",Ỉ:"I",Ĩ:"I",Ị:"I",Ó:"O",Ò:"O",Ỏ:"O",Õ:"O",Ọ:"O",Ô:"O",Ố:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ơ:"O",Ớ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ợ:"O",Ú:"U",Ù:"U",Ủ:"U",Ũ:"U",Ụ:"U",Ơ:"U",Ứ:"U",Ừ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",Ỳ:"Y",Ỷ:"Y",Ỹ:"Y",Ỵ:"Y",Đ:"D"},e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})).toUpperCase())})}static FuncMain(){a.jq.on("change","input[name='naptien']",function(){$('[id^="naptien"]').addClass("d-none");var e=$(this).attr("id");$("#naptien"+e.replace("payment","")).removeClass("d-none")}),setInterval(function(){$(".geetest_box_logo,.geetest_feedback,.geetest_logo").hide(),$(".geetest_text_tips").html("Vận h\xe0nh bởi ThanhDieuTV"),$(".geetest_tip").html("Nhấn để x\xe1c minh captcha")},0),$(".menu-item").removeClass("active open"),$(".menu-link").removeClass("active"),$(".menu-item").each(function(){var e=$(this),t=e.find(".menu-link"),a=t.attr("href");if(window.location.pathname===a){t.addClass("active"),e.addClass("active");var n=e.closest(".menu-sub").closest(".menu-item");n.length&&n.addClass("active open")}else e.find(".menu-sub .menu-item").filter(function(){return $(this).find(".menu-link").hasClass("active")}).length&&e.addClass("open")}),("/"===window.location.pathname||""===window.location.pathname)&&($('.menu-item a[href="/"]').addClass("active"),$('.menu-item a[href="/"]').closest(".menu-item").addClass("active open")),a.jq.on("change",'input[name="dynamicsIsland"]',e=>{$(e.target).prop("checked")?pxmu.success("Đ\xe3 bật Dynamics Island"):pxmu.fail("Đ\xe3 tắt Dynamics Island")}),$("#kieuchuyen").change(function(){"ngoaibank"===$(this).val()?$("#nganhangnhan").show():$("#nganhangnhan").hide()}),a.jq.on("click","[data-ws-copy]",function(e){e.preventDefault();var t=$(this).data("ws-copy");if(navigator.clipboard)navigator.clipboard.writeText(t).then(function(){pxmu.success("Đ\xe3 sao ch\xe9p v\xe0o bộ nhớ tạm!")},function(e){pxmu.fail("Sao ch\xe9p thất bại: "+e)});else{var a=$("<textarea>").val(t).appendTo("body").select();try{document.execCommand("copy"),pxmu.success("Đ\xe3 sao ch\xe9p v\xe0o bộ nhớ tạm!")}catch(n){pxmu.fail("Sao ch\xe9p thất bại: "+n)}a.remove()}})}}let r={show(e,t){let a={error:toastr.error,info:toastr.info,success:toastr.success,warning:toastr.warning},n=a[e.toLowerCase()];n&&(n(t),s.Fakebill("OFF"))},error:e=>r.show("error",e),info:e=>r.show("info",e),success:e=>r.show("success",e),warning:e=>r.show("warning",e)};class c{static Alert(e,t){$(".wusteam-alert .alert").remove();let a=$(`
                <div class="alert alert-${{error:"danger",success:"success",warning:"warning",info:"info"}[e]||"info"} alert-dismissible" role="alert">
                    <h6 class="alert-heading mb-1"><i class="mt2 bx bx-xs ${{error:"bx-info-circle",success:"bx-info-circle",warning:"bx-info-circle",info:"bx-info-circle"}[e]||"bx-shield"} align-top me-2"></i>${{error:"Thất Bại!",success:"Th\xe0nh C\xf4ng!",warning:"Cảnh B\xe1o!",info:"Th\xf4ng B\xe1o!"}[e]||"Th\xf4ng B\xe1o!"}</h6>
                    <span>${t}</span>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                </div>
            `);$(".wusteam-alert").append(a)}}function l(e,t){a.jq.on("submit",e,function(e){e.preventDefault(),s.Fakebill("ON");var n=$(this).serialize();$.ajax({type:"POST",url:a.ajax_users,data:n,dataType:"json",success:function(e){s.Fakebill("OFF"),e.success?(o.DownloadBill(a.author+a.rand(5)+"-"+t+".png","data:image/jpeg;base64,"+e.image),o.ReviewBill("data:image/jpeg;base64,"+e.image),pxmu.success(e.message)):r.error(e.error)},error:function(e,t,a){s.Fakebill("OFF"),r.error("Lỗi kh\xf4ng thể kết nối đến m\xe1y chủ!")}})})}"undefined"!=typeof initGeetest4&&initGeetest4({captchaId:a.gt,product:"float",riskType:"slide"},function(e){(captchaObj=e).appendTo(".ws-captcha"),t&&t()}),$(".td-format-money").each(function(){var e=$(this),t=$('<small class="error-message"><b>'+e.data("td-msg")+"</b></small>").hide();e.after(t),e.on("input",function(){var a=e.val().replace(/\s+/g,"");if(/^[\d.,]*$/.test(a)){var n=a.replace(/[^0-9.,]/g,""),i=n.split("."),s=i[0].replace(/,/g,""),n=i[1]||"",o=s.replace(/\B(?=(\d{3})+(?!\d))/g,",")+(n?"."+n:"");e.val(o),t.hide()}else t.show()})}),$(".td-format-number").each(function(){var e=$(this),t=$('<small class="error-message"><b>'+e.data("td-msg")+"</b></small>").hide();e.after(t),e.on("input",function(){var a=e.val().replace(/\s+/g,"");if(/^\d*[.,]?\d*$/.test(a)){var n=a.replace(/[^0-9.,]/g,""),i=n.split("."),s=i[0].replace(/,/g,""),n=i[1]||"",o=s+(n?"."+n:"");e.val(o),t.hide()}else t.show()})}),a.jq.on("submit",".user-auth-register",function(e){!function e(t,a){if(t.preventDefault(),captchaObj&&"function"==typeof captchaObj.getValidate){if(!captchaObj.getValidate())return Swal.fire({title:"Thất Bại!",text:"Vui l\xf2ng x\xe1c minh captcha!",icon:"error"});"function"==typeof a?a(t):Swal.fire({title:"Thất Bại!",text:"No custom submit handler provided!",icon:"error"})}else Swal.fire({title:"Thất Bại!",text:"Captcha object is not properly initialized!",icon:"error"})}(e,function(e){s.Oauth("ON");var t=$(e.target).serialize();$.ajax({type:"POST",url:a.ajax_users,data:t,dataType:"json",success:function(e){s.Oauth("OFF"),e.success?($(window).scrollTop(0),c.Alert("success",e.message),setTimeout(()=>{var e=new URLSearchParams(window.location.search).get("redirect");e?location.replace(e):location.replace("/")},2700)):c.Alert("error",e.message)},error:function(e,t,a){s.Oauth("OFF"),c.Alert("error","Lỗi kh\xf4ng thể kết nối đến m\xe1y chủ!")}})})}),a.jq.on("submit",".user-auth-login",function(e){e.preventDefault(),s.Oauth("ON");var t=$(this).serialize();$.ajax({type:"POST",url:a.ajax_users,data:t,dataType:"json",success:function(e){s.Oauth("OFF"),e.status?($(window).scrollTop(0),c.Alert("success",e.message),setTimeout(()=>{var e=new URLSearchParams(window.location.search).get("redirect");e?location.replace(e):location.replace("/")},2700)):c.Alert("error",e.message)},error:function(e,t,a){s.Oauth("OFF"),c.Alert("error","Lỗi kh\xf4ng thể kết nối đến m\xe1y chủ!")}})}),a.jq.on("click",".log-out",function(e){e.preventDefault(),Swal.fire({title:"Th\xf4ng B\xe1o!",text:"Bạn c\xf3 chắc chắn muốn đăng xuất t\xe0i khoản hiện tại khỏi hệ thống?",icon:"warning",showCancelButton:!0,confirmButtonText:"Đăng xuất",cancelButtonText:"Hủy bỏ"}).then(e=>{e.isConfirmed&&(s.Oauth("ON"),$.ajax({type:"POST",url:a.ajax_users,data:{action:"logout"},dataType:"json",success:function(e){s.Oauth("OFF"),e.status&&window.location.reload()},error:function(e,t,a){s.Oauth("OFF"),c.Alert("error","Lỗi kh\xf4ng thể kết nối đến m\xe1y chủ!")}}))})}),a.jq.on("submit",".user-change-password",function(e){e.preventDefault(),s.Oauth("ON");var t=$(this).serialize();$.ajax({type:"POST",url:a.ajax_users,data:t,dataType:"json",success:function(e){s.Oauth("OFF"),e.success?Swal.fire({title:"Th\xe0nh C\xf4ng!",text:e.message,icon:"success"}):Swal.fire({title:"Thất Bại!",text:e.message,icon:"error"})},error:function(e,t,a){s.Oauth("OFF"),Swal.fire({title:"Thất Bại!",text:"Lỗi kh\xf4ng thể kết nối đến m\xe1y chủ!",icon:"error"})}})}),a.jq.on("click",".change-apikey",function(e){e.preventDefault(),Swal.fire({title:"Cảnh B\xe1o!",text:"Bạn c\xf3 chắc chắn thay đổi Access Key mới, Access Key hiện tại sẽ bị xo\xe1 v\xe0 kh\xf4ng c\xf2n sử dụng được nữa bạn c\xf3 muốn tiếp tục?",icon:"warning",showCancelButton:!0,confirmButtonText:"Thay đổi",cancelButtonText:"Hủy bỏ"}).then(e=>{e.isConfirmed&&$.ajax({type:"POST",url:a.ajax_users,data:{action:"change-apikey"},dataType:"json",success:function(e){e.success?(Swal.fire({title:"Th\xe0nh C\xf4ng!",text:e.message,icon:"success"}),$("#api-key").text(e.key),$("[data-ws-copy]").each(function(){$(this).attr("data-ws-copy",e.key)})):Swal.fire({title:"Thất Bại!",text:e.message,icon:"error"})},error:function(e,t,a){Swal.fire({title:"Thất Bại!",text:"Lỗi kh\xf4ng thể kết nối đến m\xe1y chủ!",icon:"error"})}})})}),a.jq.on("click","[data-demo-name]",function(){var e=$(this).data("demo-name");$.ajax({url:a.ajax_default,type:"POST",data:{action:"call-demo",demoName:e,key:a.key},dataType:"json",success:function(e){e.success?($("#ws-call-demo").remove(),$("body").append(e.result),$("#ws-call-demo").addClass("show")):r.error(e.msg)},error:function(){r.error("Mất kết nối đến m\xe1y chủ!")}})}),a.jq.on("click","button[data-plan]",function(){var e=$(this).data("plan");$.ajax({url:a.ajax_users,type:"POST",data:{action:"thue-goi-vip",plan:e,key:a.key},dataType:"json",success:function(e){e.success?Swal.fire({title:"Th\xe0nh C\xf4ng!",text:e.message,icon:"success",confirmButtonText:"Đồng \xfd"}).then(()=>{window.location.reload()}):Swal.fire({title:"Thất Bại!",text:e.message,icon:"error"})},error:function(){Swal.fire({title:"Thất Bại!",text:"Mất kết nối đến m\xe1y chủ!",icon:"error"})}})}),$(document).ready(()=>{$.ajax({url:a.ajax_users,type:"POST",data:{action:"history-payment"},dataType:"json",success:function(e){e.success&&("string"==typeof e.message?$(".rl-history").html(`
                            <tr>
                                <td colspan="7" class="text-center">${e.message}</td>
                            </tr>
                        `):e.message.data.forEach((t,a)=>{$(".dataTables_empty").hide(),trangthai="thanhcong"===t[4]?'<b class="badge rounded-pill bg-label-success">Th\xe0nh C\xf4ng</b>':'<b class="badge rounded-pill bg-label-danger">Thất Bại</b>',$(".rl-history").append(`
                                <tr>
                                    <td>${e.message.data.length-a}</td>
                                    <td>${t[0]}</td>
                                    <td>${t[1]}</td>
                                    <td>${t[2]}</td>
                                    <td>${t[3]}</td>
                                    <td>${trangthai}</td>
                                </tr>
                            `)}))},error:function(e,t,a){Swal.fire({title:"Thất Bại!",text:"Mất kết nối đến m\xe1y chủ!",icon:"error"})}}),setInterval(function e(){$.ajax({url:"/call-back/api/n",type:"GET",dataType:"json",success:function(e){"success"===e.status&&Swal.fire({title:"Th\xe0nh C\xf4ng!",text:e.message,icon:"success",confirmButtonText:"Đồng \xfd"})}})},6e4)}),jQuery(document).ready(()=>{new n,o.Loader(),o.FuncHide(),o.FuncClass(),o.XoaTVCoDau(),o.FuncMain(),l(".hk-mbbank-new","mbbank"),l(".hk-vietcombank-new","vietcombank"),l(".hk-techcombank","techcombank"),l(".hk-vietinbank","vietinbank"),l(".hk-acb","acb"),l(".hk-momo","momo"),l(".hk-tpbank","tpbank"),l(".hk-msb","msb"),l(".hk-sodu-vietinbank","sodu-vietinbank"),l(".hk-sodu-momo","sodu-momo"),l(".hk-sodu-mbbank","sodu-mbbank")})}$(document).ready(()=>{ThanhDieuHandle()});