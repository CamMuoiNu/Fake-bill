function ThanhDieuInstaller(n){$("body").append($('<div class="td-loader"style="display:none;"><img src="/public/src/vtd/img/icon/loader.gif"></div>')),window.Wsloader=function(n){n?$(".td-loader").show():$(".td-loader").hide()},$("body").on("click",".config-now",function(n){n.preventDefault(),e.play();var t=$("#thanhdieu-installer-v2"),i=new FormData(t[0]);Wsloader(!0);var o,r=$(".ws-message"),l=$(".config-now"),s=$(".step-prev");o=new Promise(function(n,e){$.ajax({type:"POST",url:"/ajax/global/installer",data:i,processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(t){var i,o;t.success?(n(t.message),s.remove(),r.html('<div class="alert alert-success alert-icon"><em class="icon ni ni-cross-circle"></em>'+t.message+"</div>").stop(!0,!0).slideDown().delay(1e6).slideUp(),l.removeClass("config-now").addClass("page-admin").html('Trang Quản Trị&ensp;<i class="ri-arrow-right-line"></i>'),i=15,o=setInterval(function(){i>0?(l.html("Trang Quản Trị ("+i+')&ensp;<i class="ri-arrow-right-line"></i>'),i--):(clearInterval(o),window.location.href="/admin/")},1e3)):(e(t.message),r.html('<div class="alert alert-danger alert-icon"><em class="icon ni ni-cross-circle"></em><strong>Thất Bại</strong>! '+t.message+"</div>").stop(!0,!0).slideDown().delay(6e3).slideUp())},error:function(n,t,i){e("Mất kết nối đến m\xe1y chủ")}})}),FuiToast.promise(o,{loading:"Vui l\xf2ng đợi...",success:n=>(Wsloader(!1),n),error:n=>(Wsloader(!1),n)},{isClose:!0})}),$("body").on("click",".page-admin",function(n){n.preventDefault(),window.location.href="/admin/"});var e=new Audio("https://files.catbox.moe/xwfsvo.mp3");if(e.oncanplaythrough=function(){e.play()},e.loop=!0,e.onended=function(){e.play()},screen.width>=988)var t=150;else t=75;var i,o,r,l,s,a,c=[],d=0,h=0,u=!0,m=!0,f={colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,colorThreshold:10,getColor:function(){return this.colorIncrementer>=10&&(this.colorIncrementer=0,this.colorIndex++,this.colorIndex>=this.colorOptions.length&&(this.colorIndex=0)),this.colorIncrementer++,this.colorOptions[this.colorIndex]}};function g(n){this.x=Math.random()*r,this.y=Math.random()*l-l,this.r=Math.floor(21*Math.random()+10),this.d=Math.random()*t+10,this.color=n,this.tilt=Math.floor(10*Math.random())-10,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return o.beginPath(),o.lineWidth=this.r/2,o.strokeStyle=this.color,o.moveTo(this.x+this.tilt+this.r/4,this.y),o.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/4),o.stroke()}}function p(){c=[],m=!1;for(var n=0;n<t;n++){var e=f.getColor();c.push(new g(e))}r=window.innerWidth,l=window.innerHeight,i.width=r,i.height=l,function n(){return m?null:(a=requestAnimFrame(n),function n(){o.clearRect(0,0,r,l);for(var e,i=[],s=0;s<t;s++)i.push(c[e=s].draw());return function n(){var e,i=0;d+=.01,h+=.1;for(var o=0;o<t;o++){if(e=c[o],m)return;!u&&e.y<-15?e.y=l+100:(y(e,o),e.y<=l&&i++,_(e,o))}0===i&&I()}(),i}())}()}function _(n,e){(n.x>r+20||n.x<-20||n.y>l)&&u&&(e%5>0||e%2==0?v(n,Math.random()*r,-10,Math.floor(10*Math.random())-10):Math.sin(d)>0?v(n,-5,Math.random()*l,Math.floor(10*Math.random())-10):v(n,r+5,Math.random()*l,Math.floor(10*Math.random())-10))}function y(n,e){n.tiltAngle+=n.tiltAngleIncremental,n.y+=(Math.cos(d+n.d)+3+n.r/2)/2,n.x+=Math.sin(d),n.tilt=15*Math.sin(n.tiltAngle-e/3)}function v(n,e,t,i){n.x=e,n.y=t,n.tilt=i}function w(){clearTimeout(s),clearTimeout(a)}function x(){u=!1,w()}function I(){m=!0,null!=o&&o.clearRect(0,0,r,l)}function T(){w(),I(),s=setTimeout(function(){u=!0,m=!1,p()},100)}$(document).ready(function(){o=(i=document.getElementById("canvas")).getContext("2d"),r=window.innerWidth,l=window.innerHeight,i.width=r,i.height=l,$("#stopButton").click(x),$("#startButton").click(T),p(),$(window).resize(function(){r=window.innerWidth,l=window.innerHeight,i.width=r,i.height=l})}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)}}$(document).ready(ThanhDieuInstaller);